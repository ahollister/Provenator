# Installation Instructions for Provenator

These are the installation instructions for **Provenator**, whose source is under the [src](/src) subdirectory of this repository. These instructions make use of the test blockchain, [TestRPC](https://github.com/ethereumjs/testrpc), but feel free to use the alternatives instead (such as the [Ethereum Testnet Rospten](https://github.com/ethereum/ropsten)).

## Dependencies

After cloning this repository, download and install the dependencies:

- [TestRPC](https://github.com/ethereumjs/testrpc)
- [Truffle Ethereum Development Framework](https://github.com/trufflesuite/truffle)
- [node](https://nodejs.org/en/)
- [npm](https://www.npmjs.com/)
- [http-server](https://www.npmjs.com/package/http-server)

Then, in [/src/frontend](/src/frontend), type `npm install`. That should install everything detailed in the [/src/frontend/package.json](/src/frontend/package.json) that forms the REACT-based web frontend to this application.

## Running the application

First, publish the contracts to the blockchain:

1. Start TestRPC (`testrpc`).
2. Publish the smart contracts to TestRPC (in [/src/blockchain/contracts](/src/blockchain/contracts), type `truffle migrate`).
3. Edit the file [/src/frontend/app/utils/contractHandler.jsx](/src/frontend/app/utils/contractHandler.jsx) so that the four static variables `premisObjectContractAddress`, `premisEventContractAddress`, `premisAgentContractAddress` and `premisRightsContractAddress` contain the addresses generated by `truffle migrate`, above. e.g

````
static premisObjectContractAddress = '0xb9bfd8ff77db391a28a45b6c1cb72b0028695219'
static premisEventContractAddress = '0x12dba0b95a32239a5ba3e6bf7d05471d18f30d1f'
static premisAgentContractAddress = '0xc3a182dd01e3d9ffdbe95ce568b9c8d936e2ca9d'
static premisRightsContractAddress = '0xec6a5f11e7865aadc61f27faf8707795c1cda868'
````

Now create the web application:

1. Build the REACT frontend (in [/src/frontend](/src/frontend), type `npm run copy && npm run watch`).
2. Startup a webserver (in [/src/frontend](/src/frontend), type `npm run start`).

Then fire up a browser, go to the URL [http://localhost:8081](http://localhost:8081), and use the links to create a digital media 'fake news' resource and subsequently, get details about that resource.
